plugins {
    id 'java'
    id 'idea'
    id 'maven-publish'
}

group 'io.micrc.core'
version 'v0.0.1-20230317-5'
sourceCompatibility = '11'
targetCompatibility = '11'

jar.enabled = true

repositories {
    mavenLocal()
    maven {
        url "${ouxxa_nexus}"
    }
    mavenCentral()
}

dependencies {
}

// 执行publishToMavenLocal后，其他库可正常引入
publishing {
    publications {
        colibri(MavenPublication) {
            from components.java
        }
    }

    repositories {
        maven {
            name = 'colibriNexus'
            url = uri("${colibri_nexus}")
            println 'publish to ' + url
            credentials {
                username = "${colibri_nexus_user}"
                password = "${colibri_nexus_pass}"
            }
        }
    }
}